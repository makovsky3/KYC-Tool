<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Know Your Customer (KYC) Template</title>
    <style>
        /* ... (previous CSS remains the same) ... */
    </style>
</head>
<body>
    <div class="card">
        <div class="card-header">
            <h1 class="card-title">Know Your Customer (KYC) Template</h1>
        </div>
        <div class="card-content">
            <div class="step-icons">
                <!-- ... (step icons remain the same) ... -->
            </div>
            <div class="progress-bar">
                <div class="progress" style="width: 20%;"></div>
            </div>
            <form id="kycForm">
                <!-- Form content will be dynamically inserted here -->
            </form>
        </div>
        <div class="card-footer">
            <button id="prevBtn" onclick="prevStep()">Previous</button>
            <button id="nextBtn" onclick="nextStep()">Next</button>
        </div>
        <div class="alert">
            This KYC template is for guidance only. Always comply with your local regulatory requirements.
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 5;
        const kycData = {
            personalInfo: {},
            identification: {},
            addressInfo: {},
            employmentInfo: {},
            additionalInfo: {}
        };

        const formContent = {
            1: `
                <h2>Personal Information</h2>
                <div class="form-group">
                    <label for="fullName">Full Legal Name</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                <div class="form-group">
                    <label for="dateOfBirth">Date of Birth</label>
                    <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                </div>
                <div class="form-group">
                    <label for="nationality">Nationality</label>
                    <input type="text" id="nationality" name="nationality" required>
                </div>
                <div class="form-group">
                    <label for="countryOfResidence">Country of Residence</label>
                    <input type="text" id="countryOfResidence" name="countryOfResidence" required>
                </div>
            `,
            2: `
                <h2>Identification</h2>
                <div class="form-group">
                    <label for="idType">ID Type</label>
                    <select id="idType" name="idType" required>
                        <option value="">Select ID type</option>
                        <option value="passport">Passport</option>
                        <option value="nationalId">National ID</option>
                        <option value="drivingLicense">Driving License</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="idNumber">ID Number</label>
                    <input type="text" id="idNumber" name="idNumber" required>
                </div>
                <div class="form-group">
                    <label for="idExpiryDate">ID Expiry Date</label>
                    <input type="date" id="idExpiryDate" name="idExpiryDate" required>
                </div>
                <div class="form-group">
                    <label for="idIssueCountry">ID Issuing Country</label>
                    <input type="text" id="idIssueCountry" name="idIssueCountry" required>
                </div>
            `,
            3: `
                <h2>Address Information</h2>
                <div class="form-group">
                    <label for="streetAddress">Street Address</label>
                    <input type="text" id="streetAddress" name="streetAddress" required>
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" id="city" name="city" required>
                </div>
                <div class="form-group">
                    <label for="state">State/Province</label>
                    <input type="text" id="state" name="state" required>
                </div>
                <div class="form-group">
                    <label for="postalCode">Postal Code</label>
                    <input type="text" id="postalCode" name="postalCode" required>
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" id="country" name="country" required>
                </div>
            `,
            4: `
                <h2>Employment Information</h2>
                <div class="form-group">
                    <label for="employmentStatus">Employment Status</label>
                    <select id="employmentStatus" name="employmentStatus" required>
                        <option value="">Select employment status</option>
                        <option value="employed">Employed</option>
                        <option value="selfEmployed">Self-Employed</option>
                        <option value="unemployed">Unemployed</option>
                        <option value="retired">Retired</option>
                        <option value="student">Student</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="occupation">Occupation</label>
                    <input type="text" id="occupation" name="occupation" required>
                </div>
                <div class="form-group">
                    <label for="employerName">Employer Name (if applicable)</label>
                    <input type="text" id="employerName" name="employerName">
                </div>
                <div class="form-group">
                    <label for="annualIncome">Annual Income Range</label>
                    <select id="annualIncome" name="annualIncome" required>
                        <option value="">Select income range</option>
                        <option value="0-25000">$0 - $25,000</option>
                        <option value="25001-50000">$25,001 - $50,000</option>
                        <option value="50001-100000">$50,001 - $100,000</option>
                        <option value="100001-250000">$100,001 - $250,000</option>
                        <option value="250001+">$250,001+</option>
                    </select>
                </div>
            `,
            5: `
                <h2>Additional Due Diligence</h2>
                <div class="form-group">
                    <label>Are you a Politically Exposed Person (PEP)?</label>
                    <div>
                        <label><input type="radio" name="isPEP" value="yes" required> Yes</label>
                        <label><input type="radio" name="isPEP" value="no" required> No</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sourceOfFunds">Source of Funds</label>
                    <select id="sourceOfFunds" name="sourceOfFunds" required>
                        <option value="">Select source of funds</option>
                        <option value="employment">Employment Income</option>
                        <option value="business">Business Income</option>
                        <option value="inheritance">Inheritance</option>
                        <option value="investment">Investment Returns</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="purposeOfAccount">Purpose of Account</label>
                    <textarea id="purposeOfAccount" name="purposeOfAccount" required></textarea>
                </div>
            `
        };

        function renderStep(step) {
            document.getElementById('kycForm').innerHTML = formContent[step];
            updateStepIndicators();
            updateButtons();
        }

        function updateStepIndicators() {
            document.querySelectorAll('.step-icon').forEach((el, index) => {
                if (index + 1 === currentStep) {
                    el.classList.add('active');
                } else {
                    el.classList.remove('active');
                }
            });
            document.querySelector('.progress').style.width = `${(currentStep / totalSteps) * 100}%`;
        }

        function updateButtons() {
            document.getElementById('prevBtn').disabled = currentStep === 1;
            document.getElementById('nextBtn').textContent = currentStep === totalSteps ? 'Submit' : 'Next';
        }

        function saveStepData() {
            const formData = new FormData(document.getElementById('kycForm'));
            const stepData = {};
            for (let [key, value] of formData.entries()) {
                stepData[key] = value;
            }
            const stepName = Object.keys(kycData)[currentStep - 1];
            kycData[stepName] = stepData;
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                saveStepData();
                currentStep++;
                renderStep(currentStep);
            } else {
                saveStepData();
                submitKYC();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                saveStepData();
                currentStep--;
                renderStep(currentStep);
            }
        }

        function submitKYC() {
            console.log('KYC Data:', kycData);
            alert('KYC form submitted successfully!');
            // Here you would typically send the data to a server
        }

        // Initialize the form
        renderStep(currentStep);
    </script>
</body>
</html>
